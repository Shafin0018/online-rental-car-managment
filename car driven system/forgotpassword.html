<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Forgot Password - AIUB Car Rental Management System</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .container {
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      width: 100%;
      max-width: 500px;
      padding: 30px;
    }

    h1 {
      color: #333;
      text-align: center;
      margin-bottom: 10px;
      font-size: 24px;
    }

    h2 {
      color: #4a5568;
      text-align: center;
      margin-bottom: 25px;
      font-size: 20px;
      font-weight: 500;
    }

    form {
      display: flex;
      flex-direction: column;
    }

    label {
      margin-bottom: 8px;
      font-weight: 500;
      color: #2d3748;
    }

    input[type="text"],
    input[type="email"],
    input[type="password"] {
      padding: 12px 15px;
      margin-bottom: 5px;
      border: 1px solid #cbd5e0;
      border-radius: 6px;
      font-size: 16px;
      transition: border-color 0.3s;
    }

    input:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
    }

    .form-buttons {
      display: flex;
      gap: 15px;
      margin-top: 15px;
    }

    button {
      flex: 1;
      padding: 12px;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }

    button[type="submit"] {
      background-color: #667eea;
      color: white;
    }

    button[type="submit"]:hover {
      background-color: #5a67d8;
    }

    button[type="reset"] {
      background-color: #e2e8f0;
      color: #4a5568;
    }

    button[type="reset"]:hover {
      background-color: #cbd5e0;
    }

    .back-btn {
      text-align: center;
      margin-top: 25px;
    }

    .back-btn a {
      color: #667eea;
      text-decoration: none;
      font-weight: 500;
      display: inline-flex;
      align-items: center;
      gap: 5px;
    }

    .back-btn a:hover {
      text-decoration: underline;
    }

    .error {
      color: #e53e3e;
      font-size: 14px;
      margin-top: -5px;
      margin-bottom: 15px;
      display: none;
    }

    .success {
      border-color: #38a169 !important;
    }

    .requirements {
      font-size: 14px;
      color: #718096;
      margin-top: -5px;
      margin-bottom: 15px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>AIUB CAR RENTAL MANAGEMENT SYSTEM</h1>
    <h2>Forgot Password</h2>
    
    <form id="resetForm" action="#" method="post">
      <label for="email">Email Address</label>
      <input type="email" id="email" name="email" placeholder="Enter your registered email" required>
      <div id="emailError" class="error">Please enter a valid email address with @ symbol</div>

      <label for="name">Full Name</label>
      <input type="text" id="name" name="name" placeholder="Enter your full name" required>
      <div id="nameError" class="error">Name must contain only alphabetic characters and spaces</div>

      <label for="new-password">New Password</label>
      <input type="password" id="new-password" name="new-password" placeholder="Enter new password" required>
      <div id="passwordError" class="error">Password must be at least 8 characters with uppercase, lowercase, and number</div>
      <div class="requirements"></div>

      <label for="confirm-password">Confirm Password</label>
      <input type="password" id="confirm-password" name="confirm-password" placeholder="Re-enter new password" required>
      <div id="confirmPasswordError" class="error">Passwords do not match</div>

      <div class="form-buttons">
        <button type="submit">Reset Password</button>
        <button type="reset">Clear</button>
      </div>
    </form>

    <!-- Back Button -->
    <div class="back-btn">
      <a href="loginpage.html">â¬… Back to Login</a>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('resetForm');
      
      // Get input fields
      const emailInput = document.getElementById('email');
      const nameInput = document.getElementById('name');
      const passwordInput = document.getElementById('new-password');
      const confirmPasswordInput = document.getElementById('confirm-password');
      
      // Get error elements
      const emailError = document.getElementById('emailError');
      const nameError = document.getElementById('nameError');
      const passwordError = document.getElementById('passwordError');
      const confirmPasswordError = document.getElementById('confirmPasswordError');
      
      // Validation functions
      function validateEmail() {
        const emailValue = emailInput.value.trim();
        
        // Check if email contains @ symbol
        if (!emailValue.includes('@')) {
          emailError.style.display = 'block';
          emailInput.classList.remove('success');
          return false;
        } else {
          emailError.style.display = 'none';
          emailInput.classList.add('success');
          return true;
        }
      }
      
      function validateName() {
        const nameValue = nameInput.value.trim();
        const namePattern = /^[A-Za-z\s]+$/;
        
        if (!namePattern.test(nameValue)) {
          nameError.style.display = 'block';
          nameInput.classList.remove('success');
          return false;
        } else {
          nameError.style.display = 'none';
          nameInput.classList.add('success');
          return true;
        }
      }
      
      function validatePassword() {
        const passwordValue = passwordInput.value;
        // At least 8 characters, one uppercase, one lowercase, one number
        const passwordPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/;
        
        if (!passwordPattern.test(passwordValue)) {
          passwordError.style.display = 'block';
          passwordInput.classList.remove('success');
          return false;
        } else {
          passwordError.style.display = 'none';
          passwordInput.classList.add('success');
          return true;
        }
      }
      
      function validateConfirmPassword() {
        const passwordValue = passwordInput.value;
        const confirmPasswordValue = confirmPasswordInput.value;
        
        if (passwordValue !== confirmPasswordValue) {
          confirmPasswordError.style.display = 'block';
          confirmPasswordInput.classList.remove('success');
          return false;
        } else {
          confirmPasswordError.style.display = 'none';
          confirmPasswordInput.classList.add('success');
          return true;
        }
      }
      
      // Add event listeners for real-time validation
      emailInput.addEventListener('input', validateEmail);
      emailInput.addEventListener('blur', validateEmail);
      
      nameInput.addEventListener('input', validateName);
      nameInput.addEventListener('blur', validateName);
      
      passwordInput.addEventListener('input', validatePassword);
      passwordInput.addEventListener('blur', validatePassword);
      
      confirmPasswordInput.addEventListener('input', validateConfirmPassword);
      confirmPasswordInput.addEventListener('blur', validateConfirmPassword);
      
      // Form submission handler
      form.addEventListener('submit', function(event) {
        event.preventDefault();
        
        // Validate all fields
        const isEmailValid = validateEmail();
        const isNameValid = validateName();
        const isPasswordValid = validatePassword();
        const isConfirmPasswordValid = validateConfirmPassword();
        
        // If all valid, submit the form
        if (isEmailValid && isNameValid && isPasswordValid && isConfirmPasswordValid) {
          alert('Password reset successful!');
          form.submit();
        } else {
          // Scroll to the first error
          const firstError = document.querySelector('.error[style="display: block"]');
          if (firstError) {
            firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
          }
        }
      });
      
      // Reset form handler
      form.addEventListener('reset', function() {
        // Hide all error messages
        const errorElements = document.querySelectorAll('.error');
        errorElements.forEach(error => {
          error.style.display = 'none';
        });
        
        // Remove success classes
        const inputs = document.querySelectorAll('input');
        inputs.forEach(input => {
          input.classList.remove('success');
        });
      });
    });
  </script>
</body>
</html>